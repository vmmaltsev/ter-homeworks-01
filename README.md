# Домашнее задание к занятию «Введение в Terraform» - `Мальцев Виктор`


Цель задания

    Установить и настроить Terrafrom.
    Научиться использовать готовый код.

Чеклист готовности к домашнему заданию

    Скачайте и установите актуальную версию terraform >=1.4.X . Приложите скриншот вывода команды terraform --version.

![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_53.png)

    Скачайте на свой ПК данный git репозиторий. Исходный код для выполнения задания расположен в директории 01/src.
    Убедитесь, что в вашей ОС установлен docker.

---

Задание 1

    1) Перейдите в каталог src. Скачайте все необходимые зависимости, использованные в проекте.
![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_54.png)

    2) Изучите файл .gitignore. В каком terraform файле согласно этому .gitignore допустимо сохранить личную, секретную информацию?
Файл .gitignore указывает на то, что файл personal.auto.tfvars исключен из системы контроля версий Git. Это означает, что любые изменения, внесенные в этот файл, не будут отслеживаться Git.

    3) Выполните код проекта. Найдите в State-файле секретное содержимое созданного ресурса random_password, пришлите в качестве ответа конкретный ключ и его значение.
![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_55.png)

    4) Раскомментируйте блок кода, примерно расположенный на строчках 29-42 файла main.tf. Выполните команду terraform validate. Объясните в чем заключаются намеренно допущенные ошибки? Исправьте их.
![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_56.png)

Ошибка: Отсутствует имя для ресурса
В Terraform каждый ресурс должен иметь два метки: тип и имя. В текущем случае, указан тип ресурса (docker_image), но не указано имя. 
Для исправления нужно добавить имя после типа ресурса.

Ошибка: Недопустимое имя ресурса
Имена ресурсов в Terraform должны начинаться с буквы или подчеркивания и могут содержать только буквы, цифры, подчеркивания и тире. 
В текущем случае, имя ресурса начинается с цифры (1nginx), что является недопустимым. 
Для исправления нужно изменить имя ресурса так, чтобы оно начиналось с буквы или подчеркивания.

    5) Выполните код. В качестве ответа приложите вывод команды docker ps
![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_57.png)

    6) Замените имя docker-контейнера в блоке кода на hello_world, выполните команду terraform apply -auto-approve. Объясните своими словами, в чем может быть опасность применения ключа -auto-approve ? В качестве ответа дополнительно приложите вывод команды docker ps
Опасность использования ключа -auto-approve заключается в том, что можно случайно применить изменения, которые не хотелось бы применять. Это может привести к нежелательным последствиям, таким как удаление важных ресурсов, изменение конфигурации ресурсов или создание новых ресурсов, которые могут привести к дополнительным затратам.
![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_58.png)

    7) Уничтожьте созданные ресурсы с помощью terraform. Убедитесь, что все ресурсы удалены. Приложите содержимое файла terraform.tfstate.
![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_59.png)

    8) Объясните, почему при этом не был удален docker образ nginx:latest ? Ответ подкрепите выдержкой из документации провайдера.
По поводу Docker-образа nginx:latest - Terraform управляет только теми ресурсами, которые он создает. 
В случае с Docker, Terraform управляет контейнерами, но не управляет образами. 
Когда удаляется контейнер, образ, на котором он основан, не удаляется. 
Это позволяет быстро создавать новые контейнеры на основе этого образа в будущем. 
Если необходимо удалить Docker-образ, то это необходимо делать с помощью функционала docker.

---

Задание 2*

    Изучите в документации provider Virtualbox от shekeriev.
    Создайте с его помощью любую виртуальную машину. Чтобы не использовать VPN советуем выбрать любой образ с расположением в github из списка

В качестве ответа приложите plan для создаваемого ресурса и скриншот созданного в VB ресурса.

![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_60.png)

![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_61.png)

![alt text](https://github.com/vmmaltsev/screenshot3/blob/main/Screenshot_62.png)